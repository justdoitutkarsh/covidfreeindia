{"remainingRequest":"/Users/utkpandey/Documents/covidfreeindia/node_modules/babel-loader/lib/index.js!/Users/utkpandey/Documents/covidfreeindia/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/utkpandey/Documents/covidfreeindia/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/utkpandey/Documents/covidfreeindia/src/pages/oxygen.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/utkpandey/Documents/covidfreeindia/src/pages/oxygen.vue","mtime":1619728225954},{"path":"/Users/utkpandey/Documents/covidfreeindia/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/utkpandey/Documents/covidfreeindia/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/utkpandey/Documents/covidfreeindia/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/utkpandey/Documents/covidfreeindia/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { EventBus } from '../main.js';\nimport axios from \"axios\";\nimport moment from 'moment';\nexport default {\n  components: {},\n\n  data() {\n    return {\n      selectedCityName: null,\n      selectedStateName: null,\n      currentTab: '',\n      addedCities: [\"Lucknow\"],\n      addedStates: [\"Uttar Pradesh\"],\n      oxygenAvailabilityData: [],\n      allOxygenAvailabilityData: []\n    };\n  },\n\n  computed: {},\n\n  mounted() {\n    this.currentTab = sessionStorage.selectedTab;\n    EventBus.$on('setPathName', value => {\n      sessionStorage.selectedTab = value;\n      this.currentTab = sessionStorage.selectedTab;\n      this.selectedCityName = null;\n    });\n\n    if (this.selectedStateName === null) {\n      this.selectedCityName = null;\n      this.addedCities = [];\n    }\n\n    const options = {\n      method: 'GET',\n      url: 'https://life-api.coronasafe.network/data/oxygen.json'\n    };\n    let vm = this;\n    axios.request(options).then(function (response) {\n      vm.allOxygenAvailabilityData = response.data.data;\n      let state = vm.allOxygenAvailabilityData.map(stateAvailable => stateAvailable.state);\n      state = [...new Set(state)];\n      state = state.sort();\n      vm.addedStates = state;\n    }).catch(function (error) {\n      console.error(error);\n    });\n  },\n\n  methods: {\n    selectedCityOption() {\n      if (this.selectedCityName !== null) {\n        let dataToSort = [...this.allOxygenAvailabilityData];\n        let result = dataToSort.filter(city => city.district.toLowerCase() == this.selectedCityName.toLowerCase());\n        this.oxygenAvailabilityData = result;\n      }\n    },\n\n    selectedStatesOption() {\n      let citiesWiseData = this.allOxygenAvailabilityData.filter(obj => obj.state == this.selectedStateName);\n      let cityInState = citiesWiseData.map(cityAvailable => cityAvailable.district);\n      cityInState = [...new Set(cityInState)];\n      cityInState = cityInState.sort();\n      this.addedCities = cityInState;\n    },\n\n    convertTimeToIST(date) {\n      var convertedDate = moment.utc(date).local().format('DD-MMM-YYYY h:mm A');\n      return convertedDate;\n    }\n\n  }\n};",{"version":3,"sources":["oxygen.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,SAAA,QAAA,QAAA,YAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;;AAIA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,gBAAA,EAAA,IADA;AAEA,MAAA,iBAAA,EAAA,IAFA;AAGA,MAAA,UAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,CACA,SADA,CAJA;AAOA,MAAA,WAAA,EAAA,CAAA,eAAA,CAPA;AAQA,MAAA,sBAAA,EAAA,EARA;AASA,MAAA,yBAAA,EAAA;AATA,KAAA;AAWA,GAhBA;;AAiBA,EAAA,QAAA,EAAA,EAjBA;;AAoBA,EAAA,OAAA,GAAA;AACA,SAAA,UAAA,GAAA,cAAA,CAAA,WAAA;AACA,IAAA,QAAA,CAAA,GAAA,CAAA,aAAA,EAAA,KAAA,IAAA;AACA,MAAA,cAAA,CAAA,WAAA,GAAA,KAAA;AACA,WAAA,UAAA,GAAA,cAAA,CAAA,WAAA;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,KAJA;;AAKA,QAAA,KAAA,iBAAA,KAAA,IAAA,EAAA;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA;;AACA,UAAA,OAAA,GAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,GAAA,EAAA;AAFA,KAAA;AAKA,QAAA,EAAA,GAAA,IAAA;AACA,IAAA,KAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,MAAA,EAAA,CAAA,yBAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,KAAA,GAAA,EAAA,CAAA,yBAAA,CAAA,GAAA,CAAA,cAAA,IAAA,cAAA,CAAA,KAAA,CAAA;AACA,MAAA,KAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,KAAA,CAAA,CAAA;AACA,MAAA,KAAA,GAAA,KAAA,CAAA,IAAA,EAAA;AACA,MAAA,EAAA,CAAA,WAAA,GAAA,KAAA;AACA,KANA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA,KARA;AAUA,GA/CA;;AAgDA,EAAA,OAAA,EAAA;AACA,IAAA,kBAAA,GAAA;AACA,UAAA,KAAA,gBAAA,KAAA,IAAA,EAAA;AACA,YAAA,UAAA,GAAA,CAAA,GAAA,KAAA,yBAAA,CAAA;AACA,YAAA,MAAA,GAAA,UAAA,CAAA,MAAA,CAAA,IAAA,IAAA,IAAA,CAAA,QAAA,CAAA,WAAA,MAAA,KAAA,gBAAA,CAAA,WAAA,EAAA,CAAA;AACA,aAAA,sBAAA,GAAA,MAAA;AACA;AACA,KAPA;;AAQA,IAAA,oBAAA,GAAA;AACA,UAAA,cAAA,GAAA,KAAA,yBAAA,CAAA,MAAA,CAAA,GAAA,IAAA,GAAA,CAAA,KAAA,IAAA,KAAA,iBAAA,CAAA;AACA,UAAA,WAAA,GAAA,cAAA,CAAA,GAAA,CAAA,aAAA,IAAA,aAAA,CAAA,QAAA,CAAA;AACA,MAAA,WAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,WAAA,CAAA,CAAA;AACA,MAAA,WAAA,GAAA,WAAA,CAAA,IAAA,EAAA;AACA,WAAA,WAAA,GAAA,WAAA;AACA,KAdA;;AAeA,IAAA,gBAAA,CAAA,IAAA,EAAA;AACA,UAAA,aAAA,GAAA,MAAA,CAAA,GAAA,CAAA,IAAA,EAAA,KAAA,GAAA,MAAA,CAAA,oBAAA,CAAA;AACA,aAAA,aAAA;AACA;;AAlBA;AAhDA,CAAA","sourcesContent":["<template>\n  <div class=\"row\">\n       <!-- Dropdown -->\n\n      <div class=\"md-layout md-gutter\">\n      <div class=\"md-layout-item\">\n        <md-field>\n          <label for=\"states\" style=\"color: #66615B;\">Select Your States</label>\n          <md-select v-model=\"selectedStateName\" name=\"states\" id=\"states\">\n            <div v-for=\"states in addedStates\" @click=\"selectedStatesOption()\">\n            <md-option :value=states>{{states}}</md-option>\n            </div>\n          </md-select>\n        </md-field>\n      </div>    \n      <div class=\"md-layout-item\">\n        <md-field>\n          <label for=\"country\" style=\"color: #66615B;\">Select Your City</label>\n          <md-select v-model=\"selectedCityName\" name=\"country\" id=\"country\">\n            <div v-for=\"city in addedCities\" @click=\"selectedCityOption()\">\n            <md-option :value=city>{{city}}</md-option>\n            </div>\n          </md-select>\n        </md-field>\n      </div>\n    </div>\n    \n    <div class=\"hospital-cards\" v-for=\"oxy in oxygenAvailabilityData\">\n    <md-card>\n      <md-card-header>\n        <md-card-header-text>\n          <div class=\"md-title\">{{oxy.companyName}}</div>\n          <div class=\"md-subhead\">{{oxy.phone1}}</div>\n        </md-card-header-text>\n      </md-card-header>\n        <div class=\"line\"></div>\n      <md-card-content>\n       <!-- <span v-if=\"hospital.typeOfBedAvailable!==null\">Available bed type:<br></span> -->\n       <span v-if=\"oxy.type!==null\" v-for=\"types in oxy.type\">{{types}}<br></span>\n        <!-- <span>Contact No. : {{hospital.phone1}}</span> <br> -->\n        <span>Verification Status: {{oxy.verificationStatus}}</span> <br> \n        <span v-if=\"oxy.comment!==null\">Comments: {{oxy.comment}}</span>\n        <br><span>Checked on: {{convertTimeToIST(oxy.lastVerifiedOn)}}</span><br>\n      </md-card-content>\n    </md-card>\n  </div>\n    </div>\n</template>\n<script>\nimport { EventBus } from '../main.js'\nimport axios from \"axios\";\nimport moment from 'moment'\n\nexport default {\n  components: {\n    \n  },\n  data() {\n    return {\n    selectedCityName: null,\n    selectedStateName: null,\n    currentTab:'',\n    addedCities:[\n        \"Lucknow\"\n      ],\n    addedStates:[\"Uttar Pradesh\"],\n    oxygenAvailabilityData:[],\n    allOxygenAvailabilityData:[]\n    };\n  },\n  computed: {\n    \n  },\n  mounted(){\n    this.currentTab=sessionStorage.selectedTab\n    EventBus.$on('setPathName',(value)=>{\n      sessionStorage.selectedTab = value;\n      this.currentTab=sessionStorage.selectedTab\n      this.selectedCityName=null;\n    })\n    if(this.selectedStateName===null){\n        this.selectedCityName=null;\n        this.addedCities=[];\n    }\n    const options = {\n    method: 'GET',\n    url: 'https://life-api.coronasafe.network/data/oxygen.json',\n  \n    };\n    let vm=this\n    axios.request(options).then(function (response) {\n        vm.allOxygenAvailabilityData = response.data.data;\n        let state = vm.allOxygenAvailabilityData.map(stateAvailable => stateAvailable.state);\n        state = [...new Set(state)];\n        state = state.sort();\n        vm.addedStates = state;\n    }).catch(function (error) {\n        console.error(error);\n    });\n    \n  },\n  methods: {\n    selectedCityOption(){\n    if(this.selectedCityName!==null){\n    let dataToSort = [...this.allOxygenAvailabilityData]\n    let result=dataToSort.filter(city=> city.district.toLowerCase() == this.selectedCityName.toLowerCase());\n    this.oxygenAvailabilityData = result\n    }\n    },\n    selectedStatesOption(){\n        let citiesWiseData=this.allOxygenAvailabilityData.filter(obj=> obj.state == this.selectedStateName);\n        let cityInState = citiesWiseData.map(cityAvailable => cityAvailable.district);\n        cityInState = [...new Set(cityInState)];\n        cityInState = cityInState.sort();\n        this.addedCities = cityInState;\n    },\n    convertTimeToIST(date){\n        var convertedDate = moment.utc(date).local().format('DD-MMM-YYYY h:mm A');\n        return convertedDate;\n    }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.hospital-cards{\n    text-align: center;\n    width: 50%  !important;\n}\n.line{\n    border-bottom: 1px solid grey;\n    margin: 0px 15px;\n}\n.md-card {\n    width: 95%;\n    margin: 4px;\n    display: inline-block;\n    vertical-align: top;\n    //outline: solid;\n    //outline-color: #D2691E;\n  }\n\n  .md-card-example {\n    .md-subhead {\n      .md-icon {\n        $size: 16px;\n        width: $size;\n        min-width: $size;\n        height: $size;\n        font-size: $size !important;\n      }\n\n      span {\n        vertical-align: middle;\n      }\n    }\n\n    .card-reservation {\n      margin-top: 8px;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      .md-icon {\n        margin: 8px;\n      }\n    }\n\n    .md-button-group {\n      display: flex;\n\n      .md-button {\n        min-width: 60px;\n        border-radius: 2px;\n      }\n    }\n}\n.md-layout{\n  width: 100%;\n}\n.md-field{\n  width: 100%  !important;\n  float: left;\n}\n.md-layout-item{\n  padding-right: 0px !important;\n}\n.md-theme-default\n{\n  background: #f4f3ef !important; \n}\n.md-list-item-text{\n  color: black;\n  /* font-weight: bold; */\n  font-size: 15px  !important;\n}\n.heading-no-city-selected{\n  display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    height: 400px;\n    font-size: 20px;\n    font-weight: bold; \n}\n</style>\n"],"sourceRoot":"src/pages"}]}